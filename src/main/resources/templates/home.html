<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <ul class="navbar-nav me-auto">
            <li class="nav-item mt-2 mx-3">
                <p>ðŸ“ž+381 69 555333</p>
            </li>
            <li class="nav-item">
                <a class="btn btn-secondary" th:href="@{home}">Home</a>
            </li>
        </ul>

        <div class="d-flex">
            <ul class="navbar-nav me-auto" th:if="${sessionUserID == null}">
                <li class="nav-item">
                    <a class="btn btn-primary me-2" th:href="@{login}">Login</a>
                </li>
            </ul>
            <ul class="navbar-nav me-auto" th:if="${sessionUserID != null}">
                <li class="nav-item">
                    <a class="btn btn-secondary me-2" th:href="@{history}">History</a>
                </li>
            </ul>
            <ul class="navbar-nav me-auto" th:if="${sessionUserID != null}">
                <li class="nav-item">
                    <a class="btn btn-secondary me-2" th:href="@{account}">Account</a>
                </li>
            </ul>
            <ul class="navbar-nav me-auto" th:if="${sessionUserID != null}">
                <form class="nav-item" th:action="@{/logout}" method="post">
                    <button class="btn btn-primary me-2" type="submit">Logout</button>
                </form>
            </ul>
            <ul class="navbar-nav me-auto" th:if="${sessionUserID == null}">
                <li class="nav-item">
                    <a class="btn btn-secondary" th:href="@{register}">Register</a>
                </li>
            </ul>
        </div>

    </div>
</nav>

<h1 class="text-center text-primary mt-3 mb-3">Botanicca</h1>

<div class="row row-cols-1 row-cols-md-3 g-4 mx-5">
    <div class="col" th:each="article: ${articles}">
        <div class="card h-100 p-3">
            <img th:src="${article.imageUrl}" class="card-img-top" style="max-height: 300px; object-fit: contain;"/>
            <h4 th:text="${article.name}" class="mt-2"/>
            <p class="text-info"><span th:text="${#numbers.formatDecimal(article.price, 1, 2)}"/> â‚¬</p>
            <p th:text="${article.description}" class="text-secondary"/>
            <form th:action="@{home/buy}" method="post" th:object="${article}">
                <input type="hidden" name="articleID" th:value="${article.id}"/>
                <button type="submit" class="btn btn-info" th:disaBLED="${sessionUserID == NULL}">Buy</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>